import{_ as s,c as a,o as n,a as l}from"./app.127647cf.js";const d=JSON.parse('{"title":"Laravel Customers","description":"Manage your customers in eCommerce.","frontmatter":{"title":"Laravel Customers","description":"Manage your customers in eCommerce.","prev":"Core introduction"},"headers":[{"level":2,"title":"Migrations edit","slug":"migrations-edit","link":"#migrations-edit","children":[]},{"level":2,"title":"publish customer model","slug":"publish-customer-model","link":"#publish-customer-model","children":[{"level":3,"title":"Customer model","slug":"customer-model","link":"#customer-model","children":[]},{"level":3,"title":"Traits","slug":"traits","link":"#traits","children":[]}]},{"level":2,"title":"How to use it?","slug":"how-to-use-it","link":"#how-to-use-it","children":[{"level":3,"title":"Add IsCustomer trait","slug":"add-iscustomer-trait","link":"#add-iscustomer-trait","children":[]},{"level":3,"title":"Sign customer","slug":"sign-customer","link":"#sign-customer","children":[]},{"level":3,"title":"Facades","slug":"facades","link":"#facades","children":[]}]}],"relativePath":"core/customers.md"}'),e={name:"core/customers.md"},o=l(`<h1 id="customers-module" tabindex="-1">Customers Module <a class="header-anchor" href="#customers-module" aria-hidden="true">#</a></h1><p>Manage your customers in eCommerce.</p><h2 id="migrations-edit" tabindex="-1">Migrations edit <a class="header-anchor" href="#migrations-edit" aria-hidden="true">#</a></h2><p>You can edit the migration files before you migrate the files through the following line</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">php artisan vendor:publish --tag=outmart-customers-migrations</span></span>
<span class="line"></span></code></pre></div><p>Go to the <code>/database/migrations/outmart</code> path for edit. and migrate the files through the following line</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">php artisan migrate --path=/database/migrations/outmart</span></span>
<span class="line"></span></code></pre></div><h2 id="publish-customer-model" tabindex="-1">publish customer model <a class="header-anchor" href="#publish-customer-model" aria-hidden="true">#</a></h2><p>If you need to implement any features to customers you can use any model but need to extend from our model and set your model to config.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">php artisan vendor:publish --tag=outmart-customers-model</span></span>
<span class="line"></span></code></pre></div><h3 id="customer-model" tabindex="-1">Customer model <a class="header-anchor" href="#customer-model" aria-hidden="true">#</a></h3><p>Extends model.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;">\\</span><span style="color:#FFCB6B;">Models</span><span style="color:#89DDFF;">\\</span><span style="color:#FFCB6B;">OutMart</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Models</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customer</span><span style="color:#FFCB6B;"> </span><span style="color:#F78C6C;">as</span><span style="color:#FFCB6B;"> ModelCustomer</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ModelCustomer</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">//</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="traits" tabindex="-1">Traits <a class="header-anchor" href="#traits" aria-hidden="true">#</a></h3><p>Also, you can use internal traits.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;">\\</span><span style="color:#FFCB6B;">Models</span><span style="color:#89DDFF;">\\</span><span style="color:#FFCB6B;">OutMart</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Models</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customer</span><span style="color:#FFCB6B;"> </span><span style="color:#F78C6C;">as</span><span style="color:#FFCB6B;"> ModelCustomer</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Traits</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">FormatCustomerData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Traits</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">WithAddresses</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Traits</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">WithUserData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ModelCustomer</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">WithUserData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">WithAddresses</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">FormatCustomerData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="how-to-use-it" tabindex="-1">How to use it? <a class="header-anchor" href="#how-to-use-it" aria-hidden="true">#</a></h2><h3 id="add-iscustomer-trait" tabindex="-1">Add <code>IsCustomer</code> trait <a class="header-anchor" href="#add-iscustomer-trait" aria-hidden="true">#</a></h3><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;">\\</span><span style="color:#FFCB6B;">Models</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">IsCustomer</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">Illuminate</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Database</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Eloquent</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Model</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Model</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">IsCustomer</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>You must add the <code>HasCustomer</code> trait to the user model for creating the customer as a user</p><h3 id="sign-customer" tabindex="-1">Sign customer <a class="header-anchor" href="#sign-customer" aria-hidden="true">#</a></h3><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">signCustomer</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">array</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">metadata </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null);</span></span>
<span class="line"></span></code></pre></div><p>Sign the customer to the user to enable the user for opening a customer profile.</p><h4 id="metadata" tabindex="-1">$metadata <a class="header-anchor" href="#metadata" aria-hidden="true">#</a></h4><p>You can create more profiles for one user based on metadata.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// Create customer at US store</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">signCustomer</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">store</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">US</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// Create customer at EG store</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">signCustomer</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">store</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">EG</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span></code></pre></div><p>As you can see, we have created two identification files as a customer for the same user.</p><h3 id="facades" tabindex="-1">Facades <a class="header-anchor" href="#facades" aria-hidden="true">#</a></h3><h4 id="customers" tabindex="-1">Customers <a class="header-anchor" href="#customers" aria-hidden="true">#</a></h4><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">OutMart</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Laravel</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customers</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Facades</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Customer</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h5 id="listing" tabindex="-1">Listing <a class="header-anchor" href="#listing" aria-hidden="true">#</a></h5><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// Get all customers</span></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// Paginate customers</span></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">paginate</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h5 id="find-customer" tabindex="-1">Find customer <a class="header-anchor" href="#find-customer" aria-hidden="true">#</a></h5><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">find</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">customer_id</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h4 id="addresses" tabindex="-1">Addresses <a class="header-anchor" href="#addresses" aria-hidden="true">#</a></h4><h5 id="listing-addresses" tabindex="-1">Listing addresses <a class="header-anchor" href="#listing-addresses" aria-hidden="true">#</a></h5><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">find</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">customer_id</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#A6ACCD;">addresses</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>Get address listing for specific customer.</p><h5 id="crewate-address" tabindex="-1">Crewate address <a class="header-anchor" href="#crewate-address" aria-hidden="true">#</a></h5><p>attributes:-</p><ul><li>label <code>string</code></li><li>country_id <code>integer|nullable</code></li><li>city_id <code>integer|nullable</code></li><li>zip_code <code>integer|nullable</code></li><li>street_line_1 <code>string</code></li><li>street_line_2 <code>string|nullable</code></li><li>telephone_number <code>string</code></li><li>is_main <code>boolean</code></li></ul><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Customer</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">find</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">customer_id</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">addresses</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">([</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">label</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Home</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">street_line_1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Home at Alex.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">telephone_number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0123456789</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span></code></pre></div><p>Create an address for the specific customer.</p>`,43),p=[o];function t(r,c,i,F,D,C){return n(),a("div",null,p)}const u=s(e,[["render",t]]);export{d as __pageData,u as default};
